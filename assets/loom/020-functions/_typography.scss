/// Extracts a font-family name from a font usage
///
/// By default it will grab the "default" font. Specify "webfont" for the webfont version.
///
/// @group 020-functions
/// @requires $LOOM-fonts
/// @example scss
///   font-size: get-font-family(primary); // Get default version of font "primary"
///   font-size: get-font-family(secondary, webfont); // Get webfont version of font "secondary"
@function get-font-family($font-name, $font-variant: default, $font-map: $LOOM-fonts) {
  @if map-has-key($font-map, $font-name) {
    @return get-map-deep($font-map, $font-name, $font-variant);
  }

  @else {
    @warn "No matching font found for `#{$font-name}` in LOOM font map.";

    @return null;
  }
}

/// Extract a font size from the LOOM sizing map.
///
/// By default it will grab the "small breakpoint" version of the font-size.
/// @group 020-functions
/// @requires $LOOM-font-sizes
/// @example scss
///   font-size: get-font-size(alpha);  // Get default version of size "alpha"
///   font-size: get-font-size(beta, large); // Get large version of size "beta"
@function get-font-size($font-name, $font-size: smaller-viewport, $font-map: $LOOM-font-sizes) {
  @if map-has-key($font-map, $font-name) {
    @return get-map-deep($font-map, $font-name, $font-size, 'font-size');
  }

  @else {
    @warn "No matching font found for `#{$font-name}` in LOOM font map.";

    @return null;
  }
}

/// Gonverts pixel values to REMs
///
/// @parameter {number} $pixels - A font size in pixels
/// @parameter {string} $browser-content - The base font size of the page at the current breakpoint. y default, this is the value of "base" at the "small breakpoint"
///
/// @group 020-functions
/// @returns {Number} Value in REMs
@function convert-px-to-rem($pixel-size, $root-size: get-font-size($LOOM-font-size-base, smaller-viewport)) {
  @return ($pixel-size / $root-size) * 1rem;
}

/// Gonverts pixel values to EMs
///
/// @parameter {number} $pixels - A font size in pixels
/// @parameter {string} $browser-content - The base font size of the page at the current breakpoint. y default, this is the value of "base" at the "small breakpoint"
///
/// @group 020-functions
/// @returns {Number} Value in EMs
@function convert-px-to-em($pixels, $browser-context: get-font-size($LOOM-font-size-base, smaller-viewport)) {
  @return ($pixels / $browser-context) + 0em; // stylelint-disable-line length-zero-no-unit
}
